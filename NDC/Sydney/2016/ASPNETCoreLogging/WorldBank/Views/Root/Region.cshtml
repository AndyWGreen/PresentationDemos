@model IEnumerable<WorldBank.Data.Project>
@{
  ViewData["Title"] = $"World Bank Projects - {Model.First().RegionName}";
}
<h2>World Bank Funded Projects for @Model.First().RegionName (@Model.Count())</h2>
<div class="row">
  @foreach (var proj in Model)
  {
    <div class="col-lg-12">
      <div class="panel panel-info">
        <div class="panel-heading">@proj.ProjectName</div>
        <div class="panel-body">
          <p class="text-muted"><small>@proj.Abstract</small></p>
          <dl class="dl-horizontal">
            <dt>Approval Date</dt>
            <dd>@proj.ApprovalDate.ToString("d")</dd>
            <dt>Region</dt>
            <dd>@proj.RegionName</dd>
            <dt>Grant Amount</dt>
            <dd>@proj.GrantAmount.ToString("c")</dd>
            <dt>Total Amount</dt>
            <dd>@proj.TotalAmount.ToString("c")</dd>
            <dt>Status</dt>
            <dd>@proj.Status</dd>
            <dt>Project Link</dt>
            <dd><a href="@proj.Url" target="_blank">Link</a></dd>
          </dl>
        </div>
        @if (proj.Documents != null && proj.Documents.Count() > 0)
        {
          <div class="panel-footer">
            <h4>Documents</h4>
            <ul class="list-unstyled">
              @foreach (var doc in proj.Documents)
              {
                <li><a href="@doc.Url" target="_blank">@doc.Description</a></li>
              }
            </ul>
          </div>
        }
      </div>
    </div>
  }
</div>